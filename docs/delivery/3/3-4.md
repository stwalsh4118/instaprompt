# 3-4 Implement Manual Input Fallback

[Back to task list](./tasks.md)

## Description

Implement the manual input fallback that prompts users for variable values when auto-resolution fails or for custom variables.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-12-23 12:00:00 | Created | N/A | Proposed | Task file created | User |

## Requirements

1. When a variable cannot be auto-resolved, prompt user for value
2. Show input box with variable name as context
3. Allow user to cancel (should abort entire template resolution)
4. Support custom variables (any `{UPPER_CASE}` pattern not built-in)
5. Cache resolved values within single resolution (same variable appears twice)

## Implementation Plan

1. Update resolveTemplate() in templateEngine.ts
2. After trying built-in resolvers, check if value is undefined
3. If undefined, show input box:
   - Prompt: `Enter value for {VARIABLE_NAME}`
   - Placeholder: variable name
4. If user cancels, throw or return null to abort
5. Store resolved values in Map for reuse within same resolution

## Verification

- [ ] Unresolved built-in variables prompt for input
- [ ] Custom variables prompt for input
- [ ] Cancel aborts resolution without copying
- [ ] Same variable prompted only once per resolution

## Test Plan

- Unresolved variable prompts user
- Custom variable prompts user
- Cancellation returns without copying
- Multiple occurrences prompt once

## Files Modified

- `src/templateEngine.ts` (modified)

