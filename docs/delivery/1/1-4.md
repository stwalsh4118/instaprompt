# 1-4 Implement Add Prompt Command

[Back to task list](./tasks.md)

## Description

Create the command handler for adding new prompts via VS Code's quick pick interface.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-12-23 12:00:00 | Created | N/A | Proposed | Task file created | User |
| 2025-12-23 15:00:00 | Status Change | Proposed | InProgress | Started implementation | AI Agent |
| 2025-12-23 15:05:00 | Status Change | InProgress | Review | Implementation complete, Add Prompt command functional | AI Agent |
| 2025-12-23 15:30:00 | Status Change | Review | Done | Task completed and verified | AI Agent |

## Requirements

1. Register `instaprompt.addPrompt` command in extension.ts
2. Prompt user for prompt name using InputBox
3. Prompt user for prompt content using InputBox (multiline)
4. Save prompt using promptManager.addPrompt()
5. Show success notification
6. Handle cancellation gracefully

## Implementation Plan

1. Create command handler function in extension.ts
2. Use `vscode.window.showInputBox` for name input
3. Use `vscode.window.showInputBox` for content (with prompt for multiline)
4. Call promptManager.addPrompt()
5. Show information message on success
6. Register command in activate()

## Verification

- [x] Command appears in command palette
- [x] Can add prompt with name and content
- [x] Prompt appears in storage after adding
- [x] Cancelling at any step doesn't create partial prompt

## Test Plan

- Command registers and appears in palette
- Adding a prompt saves it to storage
- Cancellation works at each step without errors

## Files Modified

- `src/extension.ts` (modified)

